(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(10),s=a.n(i),r=a(12),l=a(26),m=a(61),p=a(31),d={loading:!1},c=Object(l.c)({calendarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADER":return Object(p.a)({},e,{loading:!0});case"STOP_LOADER":return Object(p.a)({},e,{loading:!1});case"SHOW_NOTIFY":return Object(p.a)({},e,{data:{type:t.payload.type,show:!0,message:t.payload.message}});case"HIDE_NOTIFY":return Object(p.a)({},e,{data:{show:!1}});case"FETCHED_APPOINTEMENTS":return Object(p.a)({},e,{appointments:t.payload.appointments});default:return e}}}),u=Object(l.a)(m.a),h=Object(l.d)(c,u),g=a(43),f=a(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=a(15),y=a(16),v=a(17),b=a(18),O=a(27),N=a.n(O),w=a(128),M=a(132),k=a(131),A=a(129),T=a(130),j=a(124),S=a(133),P=a(127),C=a(134),_=a(37),x=a.n(_),D=a(45),R=a.n(D),W=a(40),I=new W.a,F=function(e,t){return e({type:"START_LOADER"})},H=function(e){return e({type:"STOP_LOADER"})},U=function(e){if(console.log(e),e&&e.code){if(401==e.code||498==e.code)return I.remove("ou_at",{path:"/"}),window.location.replace("/");if(404==e.code&&"Organisation not found"==e.err)return window.location.replace("/cmpprofile")}},B=function(){return function(e){var t={method:"POST",url:"http://3.135.224.242:5010/appointment/gt_apt"};F(e),R()(t).then(function(t){if(H(e),!(t&&t.data.success&&t.data))return e({type:"SHOW_NOTIFY",payload:{type:"error",message:"Something went wrong",dispatch:e}});e({type:"FETCHED_APPOINTEMENTS",payload:{appointments:t.data.data.appointments}})}).catch(function(t){var a="Something went wrong";return t.response&&t.response.statusText&&(a=t.response.statusText),t.response&&t.response.data&&t.response.data.err&&(a=t.response.data.err),t&&t.response&&t.response.data&&U(t.response.data||{}),H(e),e({type:"SHOW_NOTIFY",payload:{type:"error",message:a,dispatch:e}})})}},Y=1,z=2,L=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).closeModal=function(){n.props.handleModalToggle(!1)},n.validateAddUserButton=function(){return!(""!=n.state.name&&""!=n.state.email)},n.addUserAppointmennt=function(){var e=N.a.months(),t={name:n.state.name,email:n.state.email,date:n.props.appointmentdate&&n.props.appointmentdate.date?n.props.appointmentdate.date.day:null,month:n.props.appointmentdate&&n.props.appointmentdate.date?e.indexOf(n.props.appointmentdate.date.month)+1:null,time:n.props.appointmentdate&&n.props.appointmentdate.timeslot?n.props.appointmentdate.timeslot.time:null,time_meridian:n.props.appointmentdate&&n.props.appointmentdate.timeslot?["AM","PM"].indexOf(n.props.appointmentdate.timeslot.meridian)+1:null};n.props.addUserAppointmennt(t).then(function(e){e&&e.data&&e.data.success&&(n.props.handleModalToggle(!1),n.props.fetchAppointements())})},n.state={name:"",email:""},n}return Object(y.a)(a,[{key:"handleEventChange",value:function(e,t){var a=t.target.value;switch(e){case 1:this.setState({name:a});break;case 2:this.setState({email:a})}}},{key:"render",value:function(){var e=this;return console.log(this.props),o.a.createElement("div",{className:"modal-container"},o.a.createElement(S.a,{maxWidth:"sm",fullScreen:!1,open:this.props.open,onClose:this.closeModal},o.a.createElement(C.a,{className:"modal-add-user-title"},o.a.createElement("span",{className:"modal-add-user-txt"},"Add Appointment"),o.a.createElement(x.a,{className:"modal-close-icon",onClick:this.closeModal})),o.a.createElement(P.a,{className:"modal-dialog-content"},o.a.createElement("div",null,o.a.createElement("input",{type:"text",className:"modal-input-field",placeholder:"Name",value:this.state.name,onChange:function(t){return e.handleEventChange(Y,t)}}),o.a.createElement("input",{type:"text",className:"modal-input-field",placeholder:"Email",value:this.state.email,onChange:function(t){return e.handleEventChange(z,t)}})),o.a.createElement("button",{className:"btn modal-add-user-btn",style:{marginTop:35},disabled:this.validateAddUserButton(),onClick:this.addUserAppointmennt},"Add Appointment"))))}}]),a}(n.Component),J={fetchAppointements:B,addUserAppointmennt:function(e){return function(t){var a={method:"POST",data:{name:e.name,email:e.email,date:e.date,month:e.month,time:e.time,time_meridian:e.time_meridian},url:"http://3.135.224.242:5010/appointment/ad_user_apt"};return F(t),R()(a).then(function(e){return H(t),e&&e.data.success&&e.data?(t({type:"FETCHED_APPOINTEMENTS",payload:{appointments:e.data.data.appointments}}),e):t({type:"SHOW_NOTIFY",payload:{type:"error",message:"Something went wrong",dispatch:t}})}).catch(function(e){var a="Something went wrong";return e.response&&e.response.statusText&&(a=e.response.statusText),e.response&&e.response.data&&e.response.data.err&&(a=e.response.data.err),e&&e.response&&e.response.data&&U(e.response.data||{}),H(t),t({type:"SHOW_NOTIFY",payload:{type:"error",message:a,dispatch:t}})})}}},$=Object(r.b)(function(e){return{calPanel:e.calendarReducer}},J)(L),q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).closeModal=function(){n.props.handleModalToggle(!1)},n.Reschedule=function(){alert("Reschedule button")},n.cancelAppointment=function(){alert("Cancel button")},n.state={name:"",email:""},n}return Object(y.a)(a,[{key:"render",value:function(){return console.log(this.props),o.a.createElement("div",{className:"modal-container"},o.a.createElement(S.a,{maxWidth:"sm",fullScreen:!1,open:this.props.open,onClose:this.closeModal},o.a.createElement(C.a,{style:{minWidth:310},className:"modal-add-user-title"},o.a.createElement("span",{className:"modal-add-user-txt"},"Booked Appointment"),o.a.createElement(x.a,{className:"modal-close-icon",onClick:this.closeModal})),o.a.createElement(P.a,{className:"modal-dialog-content"},o.a.createElement("div",null,o.a.createElement("div",{className:"modal-user-name"},this.props.appointmentdate.uname),o.a.createElement("div",{style:{fontWeight:600}}," ",this.props.appointmentdate.date.weekday,", ",this.props.appointmentdate.date.month," ",this.props.appointmentdate.date.day," at ",this.props.appointmentdate.timeslot.time," ",this.props.appointmentdate.timeslot.meridian," "),o.a.createElement("div",{style:{display:"inline-flex"}},o.a.createElement("button",{className:"btn modal-add-user-btn",style:{marginTop:35},onClick:this.Reschedule},"Reschedule"),o.a.createElement("button",{className:"btn modal-cancel-appointment-btn",style:{marginTop:35},onClick:this.cancelAppointment},"Cancel"))))))}}]),a}(n.Component),G=Object(r.b)(function(e){return{calPanel:e.calendarReducer}},{})(q);function K(e){return!e||!0!==e.loading&&"true"!==e.loading?null:o.a.createElement("div",null,o.a.createElement("div",{className:"visible-loader"}))}var Q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleModalToggle=function(e){return n.setState({addappointmentmodal:e,bookedappointmentmodal:e})},n.state={weekdays:N.a.weekdays(),months:N.a.months(),timeslots:[{time:12,meridian:"AM"},{time:1,meridian:"AM"},{time:2,meridian:"AM"},{time:3,meridian:"AM"},{time:4,meridian:"AM"},{time:5,meridian:"AM"},{time:6,meridian:"AM"},{time:7,meridian:"AM"},{time:8,meridian:"AM"},{time:9,meridian:"AM"},{time:10,meridian:"AM"},{time:11,meridian:"AM"},{time:12,meridian:"PM"},{time:1,meridian:"PM"},{time:2,meridian:"PM"},{time:3,meridian:"PM"},{time:4,meridian:"PM"},{time:5,meridian:"PM"},{time:6,meridian:"PM"},{time:7,meridian:"PM"},{time:8,meridian:"PM"},{time:9,meridian:"PM"},{time:10,meridian:"PM"},{time:11,meridian:"PM"}],addappointmentmodal:!1,bookedappointmentmodal:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchAppointements()}},{key:"addAppointment",value:function(e,t){var a={timeslot:t,date:e};this.setState({addappointmentmodal:!0,appointed_date:a})}},{key:"openBookedAppointment",value:function(e,t,a){console.log(a);var n={timeslot:t,date:e,uname:a};this.setState({bookedappointmentmodal:!0,appointed_date:n})}},{key:"render",value:function(){var e=this;console.log(this.props);for(var t=[],a=new Date,n=a.getUTCDate(),i=a.getUTCFullYear(),s=a.getUTCMonth(),r=this.state.weekdays,l=new Date(i,s,n);l.getMonth()==s;)t.push({weekday:r[l.getDay()],day:l.getDate(),month:this.state.months[s]}),l.setDate(l.getDate()+1);for(var m=new Date(i,s+1,1);m.getMonth()==s+1;)t.push({weekday:r[m.getDay()],day:m.getDate(),month:this.state.months[s+1]}),m.setDate(m.getDate()+1);return this.props.calPanel.appointments?o.a.createElement("div",{className:"calendar-main-section"},this.state.addappointmentmodal?o.a.createElement($,{open:this.state.addappointmentmodal,handleModalToggle:this.handleModalToggle,appointmentdate:this.state.appointed_date}):null,this.state.bookedappointmentmodal?o.a.createElement(G,{open:this.state.bookedappointmentmodal,handleModalToggle:this.handleModalToggle,appointmentdate:this.state.appointed_date}):null,o.a.createElement("div",{className:"calendar-card-container"},o.a.createElement(j.a,{className:"paper"},o.a.createElement(w.a,{className:"table"},o.a.createElement(A.a,null,o.a.createElement(T.a,null,o.a.createElement(k.a,{className:"table-cell-heading",align:"center",style:{width:40}}),t.length>0?t.map(function(e){return o.a.createElement(k.a,{key:e.weekday+e.day+e.month,className:"table-cell-heading",align:"center"},e.weekday," ",o.a.createElement("br",null)," ",o.a.createElement("div",{style:{fontSize:22,margin:"0px 0px 12px 0px"}},e.day," ",e.month))}):null)),o.a.createElement(M.a,null,this.state.timeslots.map(function(a){return o.a.createElement(T.a,{key:a.time+a.meridian},o.a.createElement(k.a,{className:"table-cell-heading",style:{minWidth:120,padding:"30px 16px 30px 60px"},align:"center"},a.time+" "+a.meridian),t.length>0?t.map(function(t){return o.a.createElement(k.a,{key:t.weekday+t.day+t.month,className:"table-cell",align:"left"},e.props.calPanel.appointments[t.day+"-"+t.month+"-"+a.time+"-"+a.meridian]?1==e.props.calPanel.appointments[t.day+"-"+t.month+"-"+a.time+"-"+a.meridian].status?o.a.createElement("div",{className:"slot-section appointement-open-section",onClick:function(){return e.addAppointment(t,a)}},o.a.createElement("div",{style:{fontSize:10,fontWeight:600}},a.time+" "+a.meridian),"Open"):2==e.props.calPanel.appointments[t.day+"-"+t.month+"-"+a.time+"-"+a.meridian].status?o.a.createElement("div",{className:"slot-section appointement-booked-section",onClick:function(){return e.openBookedAppointment(t,a,e.props.calPanel.appointments[t.day+"-"+t.month+"-"+a.time+"-"+a.meridian].user_name)}},o.a.createElement("div",{style:{fontSize:10,fontWeight:600}},a.time+" "+a.meridian),e.props.calPanel.appointments[t.day+"-"+t.month+"-"+a.time+"-"+a.meridian].user_name):o.a.createElement("div",{className:"slot-section appointement-disabled-section"},o.a.createElement("div",{style:{fontSize:10,fontWeight:600}},a.time+" "+a.meridian),"Blocked"):o.a.createElement("div",{className:"slot-section appointement-disabled-section"},o.a.createElement("div",{style:{fontSize:10,fontWeight:600}},a.time+" "+a.meridian),"Blocked"))}):null)})))))):o.a.createElement("div",null,o.a.createElement(K,null))}}]),a}(n.Component),V={fetchAppointements:B},X=Object(f.f)(Object(r.b)(function(e){return{calPanel:e.calendarReducer}},V)(Q)),Z=a(63),ee=a.n(Z),te=a(48),ae=a.n(te),ne=a(41),oe=a.n(ne),ie=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(e){e.storedata!==n.props.storedata&&("error"===n.props.type||n.props.storedata&&"error"===n.props.storedata.type?n.setState({heading:"Error",img:oe.a}):"success"===n.props.type||n.props.storedata&&"success"===n.props.storedata.type?n.setState({heading:"Success",img:ae.a}):"info"===n.props.type||n.props.storedata&&"info"===n.props.storedata.type?n.setState({heading:"Info",img:ae.a}):"warning"===n.props.type||n.props.storedata&&"warning"===n.props.storedata.type?n.setState({heading:"Warning",img:oe.a}):n.setState({heading:"Error",img:oe.a}))},n.state={},n}return Object(y.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.show||this.props.storedata&&this.props.storedata.show?"error-popover":"error-popover hide-error-popover"},o.a.createElement("div",{className:"ep-icon-container"},o.a.createElement("img",{alt:"",className:"icon",src:this.state.img})),o.a.createElement("div",{className:"ep-content"},o.a.createElement("p",{className:"ep-heading"},this.state.heading),o.a.createElement("p",{className:"ep-msg"},this.props.message||this.props.storedata&&this.props.storedata.message)),o.a.createElement("div",{className:"close"},o.a.createElement("img",{alt:"close",onClick:this.props.hideAlert,className:"close-img",src:ee.a})))}}]),a}(n.Component);var se={hideAlert:function(){return function(e){e({type:"HIDE_NOTIFY",payload:{}})}}},re=Object(f.f)(Object(r.b)(function(e){return{storedata:e.calendarReducer.data}},se)(ie)),le=(a(102),new W.a,function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={},n}return Object(y.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"main-body"},o.a.createElement(re,null),o.a.createElement("div",null,o.a.createElement(K,{loading:this.props.loading}),o.a.createElement(f.c,null,o.a.createElement(f.a,{path:"/",render:function(){return o.a.createElement(X,null)}}))))}}]),a}(n.Component)),me=(n.Component,Object(f.f)(Object(r.b)(function(e){return{loading:e.calendarReducer.loading,calpanel:e.calendarReducer}},{})(le)));a(100);s.a.render(o.a.createElement(r.a,{store:h},o.a.createElement(g.a,null,o.a.createElement(f.a,{path:"/",component:me}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},41:function(e,t,a){e.exports=a.p+"static/media/fail.6fe44237.svg"},48:function(e,t,a){e.exports=a.p+"static/media/success.85092b97.svg"},63:function(e,t,a){e.exports=a.p+"static/media/close-btn.3d388d91.svg"},70:function(e,t,a){e.exports=a(101)}},[[70,1,2]]]);
//# sourceMappingURL=main.d8646e57.chunk.js.map